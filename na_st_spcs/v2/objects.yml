APP_ADMIN:
  TYPE: APPLICATION_ROLE

APP_USER:
  TYPE: APPLICATION_ROLE

EGRESS_EAI_WIKIPEDIA:
  TYPE: EXTERNAL_ACCESS_INTEGRATION
  PARAMETERS:
    HOST_PORTS:
      - upload.wikimedia.org
    ALLOWED_SECRETS: NONE

STWH:
  TYPE: WAREHOUSE
  PARAMETERS:
    WAREHOUSE_SIZE: XSMALL

STPOOL:
  TYPE: COMPUTE_POOL
  PARAMETERS:
    MIN_NODES: 1
    MAX_NODES: 1
    INSTANCE_FAMILY: CPU_X64_XS
    AUTO_RESUME: TRUE

ST_SPCS:
  TYPE: SERVICE
  SCHEMA: APP_PUBLIC
  PARAMETERS:
    COMPUTE_POOL: STPOOL
    SPECIFICATION_FILE: /streamlit.yaml
    QUERY_WAREHOUSE: STWH
    EXTERNAL_ACCESS_INTEGRATIONS:
      - EGRESS_EAI_WIKIPEDIA
    PUBLIC_ENDPOINT: TRUE
  REFERENCES:
    - ORDERS_TABLE
  APPLICATION_ROLES:
    - APP_USER
